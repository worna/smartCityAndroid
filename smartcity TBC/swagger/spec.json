{"openapi":"3.0.0","info":{"title":"API Smartcity","version":"1.0.0"},"paths":{"/customer":{"post":{"tags":["Customer"],"requestBody":{"$ref":"#/components/requestBodies/CustomerToAdd"},"responses":{"201":{"$ref":"#/components/responses/CustomerAdd"},"500":{"description":"Server error"}}},"patch":{"tags":["Customer"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/CustomerToUpdate"},"responses":{"204":{"$ref":"#/components/responses/CustomerUpdated"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"500":{"description":"Server error"}}}},"/sportHall/{id}":{"get":{"tags":["SportHall"],"parameters":[{"name":"id","description":"sport hall's ID","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/SportHallFound"},"404":{"description":"Sport hall not found"},"500":{"description":"Server error"}}}},"/sportHall":{"post":{"tags":["SportHall"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SportHallToAdd"},"responses":{"201":{"$ref":"#/components/responses/AddSportHall"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeManager"},"500":{"description":"Server error"}}},"patch":{"tags":["SportHall"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SportHallToUpdate"},"responses":{"204":{"$ref":"#/components/responses/SportHallUpdated"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeManager"},"500":{"description":"Server error"}}},"delete":{"tags":["SportHall"],"security":[{"bearerAuth":[]}],"responses":{"200":{"$ref":"#/components/responses/SportHallDeleted"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeManager"},"500":{"description":"Server error"}}}},"/sportHallCustomer":{"post":{"tags":["SportHallCustomer"],"requestBody":{"$ref":"#/components/requestBodies/AddCustomerToSportHall"},"responses":{"201":{"$ref":"#/components/responses/AddedCustomerToSportHall"},"404":{"$ref":"#/components/responses/SportHallDoesNotExist"},"500":{"description":"Erreur serveur"}}}},"/user/login":{"post":{"tags":["User"],"description":"send a JWT token for the identification","requestBody":{"description":"login for connexion","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login"}}}},"responses":{"200":{"description":"a JWT token","content":{"text/plain":{"schema":{"type":"string"}}}}}}}},"components":{"responses":{"CustomerUpdated":{"description":"The customer has been updated"},"CustomerAdd":{"description":"The customer has been  added to database"},"AddedCustomerToSportHall":{"description":"The customer has been added to the sport hall"},"SportHallDoesNotExist":{"description":"The sport hall doesn't exist","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"CustomerDoesNotExist":{"description":"The customer doesn't exist","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"SportHallFound":{"description":"send a sport hall","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SportHall"}}}},"AddSportHall":{"description":"The sport hall has been added"},"SportHallUpdated":{"description":"The sport hall has been updated"},"SportHallDeleted":{"description":"The sport hall has been deleted"},"mustBeManager":{"description":"The requested action can only be performed by a manager"},"ErrorJWT":{"description":"The JWT is invalid"},"MissingJWT":{"description":"The JWT is not present"}},"requestBodies":{"CustomerToUpdate":{"content":{"application/json":{"schema":{"properties":{"id":{"type":"integer"},"firstname":{"type":"string"},"lastname":{"type":"string"},"birthdate":{"type":"string","format":"date"},"gender":{"type":"integer"},"phonenumber":{"type":"string"},"email":{"type":"string"},"password":{"type":"string","format":"password"},"inscriptiondate":{"type":"string","format":"date"},"ismanager":{"type":"integer"},"isinstructor":{"type":"integer"},"language":{"type":"string"}}}}}},"CustomerToAdd":{"content":{"application/json":{"schema":{"properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"birthdate":{"type":"string","format":"date"},"gender":{"type":"integer"},"phonenumber":{"type":"string"},"email":{"type":"string"},"password":{"type":"string","format":"password"},"inscriptiondate":{"type":"string","format":"date"},"ismanager":{"type":"integer"},"isinstructor":{"type":"integer"},"language":{"type":"string"}},"required":["firstname","lastname","birthdate","gender","phonenumber","email","password","inscriptiondate","ismanager","isinstructor","language"]}}}},"AddCustomerToSportHall":{"content":{"application/json":{"schema":{"type":"object","properties":{"sportHall":{"type":"object","properties":{"id":{"type":"integer"}},"required":["id"]},"customer":{"type":"object","properties":{"id":{"type":"integer"}},"required":["id"]}},"required":["sportHall","customer"]}}}},"SportHallToAdd":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"sportHall's name"},"manager":{"type":"integer"},"phonenumber":{"type":"string"},"email":{"type":"string"}}}}}},"SportHallToUpdate":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string","description":"sportHall's name"},"manager":{"type":"integer"},"phonenumber":{"type":"string"},"email":{"type":"string"}}}}}}},"schemas":{"SportHall":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string","description":"sport hall's name"},"manager":{"type":"integer"},"phonenumber":{"type":"string"},"email":{"type":"string"}}},"Login":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string","format":"password"}},"required":["email","password"]}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":[]}